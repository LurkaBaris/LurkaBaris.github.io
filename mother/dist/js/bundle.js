(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

/*const*/
var popup = document.querySelector('.popup');
var classesToAdd = ['popup_active', 'popup_menu'];
var inputTel = document.querySelectorAll('.popup__input_tel');
var popupBasket = document.querySelector('.popup__basket');
var totalSum = document.querySelector('.popup__price');
/*const*/

/*obj product*/

var product = [{
  name: 'Салаты',
  items: [{
    name: 'Загадка',
    price: 85
  }, {
    name: 'Золотая россыпь',
    price: 60
  }, {
    name: 'Винегрет',
    price: 60
  }, {
    name: 'Витаминный',
    price: 85
  }, {
    name: 'Белый лебедь',
    price: 75
  }, {
    name: 'Селёдка под шубой',
    price: 75
  }]
}, {
  name: 'Супы',
  items: [{
    name: 'Суп лапша',
    price: 70
  }, {
    name: 'Щи с говядиной',
    price: 80
  }, {
    name: 'Борщ с говядиной',
    price: 80
  }, {
    name: 'Суп с фрикадельками',
    price: 70
  }, {
    name: 'Солянка',
    price: 90
  }]
}, {
  name: 'Второе блюдо',
  items: [{
    name: 'Запеканка',
    price: 150
  }, {
    name: 'Манты рубленые с говядиной',
    price: 130
  }]
}, {
  name: 'Гарниры',
  items: [{
    name: 'Рис мозайка',
    price: 35
  }, {
    name: 'Пюре картофельное',
    price: 35
  }, {
    name: 'Макароны отварные',
    price: 35
  }, {
    name: 'Картофель фри',
    price: 50
  }, {
    name: 'Картофель запечёный',
    price: 45
  }]
}, {
  name: 'Горячее',
  items: [{
    name: 'Сосиски',
    price: 85
  }, {
    name: 'Котлета по домашнему',
    price: 95
  }, {
    name: 'Голень куриная жареная',
    price: 50
  }, {
    name: 'Куриная отбивная',
    price: 125
  }, {
    name: 'Поджарка из свинины',
    price: 95
  }]
}, {
  name: 'Блины',
  items: [{
    name: 'Блины с мясом',
    price: 70
  }, {
    name: 'Блины с творогом',
    price: 60
  }]
}];
var total = {
  items: [],
  price: 0
};
/*obj*/

/*input filter*/

function setInputFilter(textbox, inputFilter) {
  ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function (event) {
    textbox.addEventListener(event, function () {
      if (inputFilter(this.value)) {
        this.oldValue = this.value;
        this.oldSelectionStart = this.selectionStart;
        this.oldSelectionEnd = this.selectionEnd;
      } else if (this.hasOwnProperty("oldValue")) {
        this.value = this.oldValue;
        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
      } else {
        this.value = "";
      }
    });
  });
}
/*input*/

/*create product in popup*/

/*popup count btn*/


var btnValueEvent = function btnValueEvent(minus, btn, value, item) {
  if (minus) {
    btn.addEventListener('click', function (e) {
      e.stopPropagation();

      if (Number(value.innerHTML) > 0) {
        value.innerHTML = String(Number(value.innerHTML) - 1);
        var index = total.items.findIndex(function (product) {
          return product.name === item.name;
        });

        if (value.innerHTML === '0') {
          total.items.splice(index, 1);
        } else {
          total.items[index].count = value.innerHTML;
        }

        total.price -= item.price;
        totalSum.innerHTML = total.price + ' ₽';
      }
    });
  } else {
    btn.addEventListener('click', function (e) {
      e.stopPropagation();

      if (Number(value.innerHTML) < 30) {
        value.innerHTML = String(Number(value.innerHTML) + 1);

        if (total.items.find(function (product) {
          return product.name === item.name;
        })) {
          var index = total.items.findIndex(function (product) {
            return product.name === item.name;
          });
          total.items[index].count = value.innerHTML;
        } else {
          total.items.push({
            name: item.name,
            count: value.innerHTML
          });
        }

        total.price += item.price;
        totalSum.innerHTML = total.price + ' ₽';
      }
    });
  }
};
/*popup count btn*/

/*svg in popup-tile*/


var createSvgArrow = function createSvgArrow() {
  var arrowSvg = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
  arrowSvg.classList.add('popup__arrow');
  var pathArrow = document.createElementNS("http://www.w3.org/2000/svg", 'path');
  pathArrow.setAttribute("d", "M-0.000,1.546 L5.500,6.999 L11.000,1.546 L9.440,-0.001 L5.500,3.905 L1.560,-0.001 L-0.000,1.546 Z");
  arrowSvg.append(pathArrow);
  return arrowSvg;
};
/*svg in popup-tile*/

/*svg in popup-btn*/


var createSvgBtn = function createSvgBtn(minus) {
  var wrapper = document.createElement('div');
  wrapper.className = 'popup__dish-btn';
  var svg = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
  svg.setAttribute('width', '15px');
  svg.setAttribute('fill', '#56b01a');
  svg.setAttribute('viewBox', '0 0 24 24');
  var path = document.createElementNS("http://www.w3.org/2000/svg", 'path');

  if (minus) {
    path.setAttribute('d', 'M0 10h24v4h-24z');
  } else {
    path.setAttribute('d', 'M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z');
  }

  svg.append(path);
  return svg;
};
/*svg in popup-btn*/

/*btn in popup-count*/


var createBtnValue = function createBtnValue(minus) {
  var dishBtn = document.createElement('div');
  dishBtn.className = 'popup__dish-btn';

  if (minus) {
    dishBtn.append(createSvgBtn(minus));
  } else {
    dishBtn.append(createSvgBtn(minus));
  }

  return dishBtn;
};
/*btn in popup-count*/

/*dish item in popup-category*/


var createDish = function createDish(item) {
  var dish = document.createElement('div');
  dish.className = 'popup__dish';
  var dishName = document.createElement('div');
  dishName.className = 'popup__dish-name';
  dishName.innerHTML = item.name;
  var dishCount = document.createElement('div');
  dishCount.className = 'popup__dish-count';
  var dishValue = document.createElement('div');
  dishValue.className = 'popup__dish-value';
  dishValue.innerHTML = '0';
  var dishBtnMinus = createBtnValue(true);
  btnValueEvent(true, dishBtnMinus, dishValue, item);
  var dishBtnPlus = createBtnValue(false);
  btnValueEvent(false, dishBtnPlus, dishValue, item);
  dishCount.append(dishBtnMinus, dishValue, dishBtnPlus);
  dish.append(dishName, dishCount);
  return dish;
};
/*dish item in popup-category*/

/*popup accordion*/


var popupAccordion = function popupAccordion(item, container) {
  item.addEventListener("click", function () {
    item.classList.toggle('popup__item_active');

    if (container.style.maxHeight) {
      container.style.maxHeight = null;
    } else {
      container.style.maxHeight = "".concat(container.scrollHeight, "px");
    }
  });
};
/*popup accordion*/


var createProduct = function createProduct(items) {
  items.forEach(function (obj) {
    var category = document.createElement('div');
    category.className = 'popup__item';
    var titleCategory = document.createElement('div');
    titleCategory.className = 'popup__item-title';
    titleCategory.innerHTML = obj.name;
    titleCategory.append(createSvgArrow());
    var container = document.createElement('div');
    container.className = 'popup__item-container';
    obj.items.forEach(function (item) {
      container.append(createDish(item));
    });
    popupAccordion(category, container);
    category.append(titleCategory, container);
    popupBasket.append(category);
  });
};
/*create product in popup*/

/*open popup basket*/


var openBasket = function openBasket() {
  var _popup$classList;

  (_popup$classList = popup.classList).add.apply(_popup$classList, classesToAdd);
};
/*open popup basket*/

/*back call*/


var openCallBack = function openCallBack() {
  popup.classList.add('popup_active', 'popup_call');
};
/*back call*/


window.onload = function () {
  /*init product in popup*/
  createProduct(product);
  /*init product in popup*/

  /*init filter input*/

  inputTel.forEach(function (input) {
    setInputFilter(input, function (value) {
      return /^-?\d*$/.test(value);
    });
  });
  /*init filter input*/

  /*faq accordion*/

  document.querySelectorAll('.faq__item').forEach(function (accordion) {
    var hiddenSection = accordion.querySelector('.faq__hidden');
    accordion.addEventListener("click", function () {
      accordion.classList.toggle('faq__item_active');

      if (hiddenSection.style.maxHeight) {
        hiddenSection.style.maxHeight = null;
      } else {
        hiddenSection.style.maxHeight = "".concat(hiddenSection.scrollHeight, "px");
      }
    });
  });
  /*faq accordion*/

  /*anchor*/

  document.querySelectorAll('a[href^="#"]').forEach(function (anchor) {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      document.querySelector(this.getAttribute('href')).scrollIntoView({
        behavior: 'smooth'
      });
    });
  });
  /*anchor*/

  /*open popup*/

  document.querySelector('.btn_nav').addEventListener('click', openBasket);
  document.querySelector('.btn_header').addEventListener('click', openBasket);
  document.querySelector('.btn_work').addEventListener('click', openBasket);
  document.querySelector('.menu__btn').addEventListener('click', openBasket);
  /*open popup*/

  /*exit popup*/

  document.querySelector('.popup__exit').addEventListener('click', function () {
    popup.classList.remove('popup_active', 'popup_menu', 'popup_faq', 'popup_call');
  });
  /*exit popup*/

  /*open call back*/

  document.querySelector('.btn_faq').addEventListener('click', function () {
    popup.classList.add('popup_active', 'popup_faq');
  });
  document.querySelector('.btn_contact').addEventListener('click', openCallBack);
  document.querySelector('.header-main__call').addEventListener('click', openCallBack);
  document.querySelector('.footer-main__call').addEventListener('click', openCallBack);
  /*open call back*/

  /*check form*/

  var checkInput = function checkInput(name, tel) {
    return !name.value.trim().length || !tel.value;
  };

  document.querySelector('.popup__form_menu').addEventListener('submit', function (e) {
    var name = this.querySelector('.popup__input_tel');
    var tel = this.querySelector('.popup__input_tel');

    if (checkInput(name, tel) || total.price === 0) {
      e.preventDefault();
    }
  });
  document.querySelector('.popup__form_call').addEventListener('submit', function (e) {
    var name = this.querySelector('.popup__input_tel');
    var tel = this.querySelector('.popup__input_tel');

    if (checkInput(name, tel)) {
      e.preventDefault();
    }
  });
  document.querySelector('.popup__form_faq').addEventListener('submit', function (e) {
    var name = this.querySelector('.popup__input_tel');
    var tel = this.querySelector('.popup__input_tel');
    var text = this.querySelector('.popup__textarea');

    if (checkInput(name, tel) || !text.value.trim().length) {
      e.preventDefault();
    }
  });
  /*check form*/
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7QUFDQSxJQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixRQUF2QixDQUFkO0FBQ0EsSUFBTSxZQUFZLEdBQUcsQ0FBQyxjQUFELEVBQWlCLFlBQWpCLENBQXJCO0FBQ0EsSUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLGdCQUFULENBQTBCLG1CQUExQixDQUFqQjtBQUNBLElBQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLGdCQUF2QixDQUFwQjtBQUNBLElBQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLGVBQXZCLENBQWpCO0FBQ0E7O0FBRUE7O0FBQ0EsSUFBTSxPQUFPLEdBQUcsQ0FDZjtBQUNDLEVBQUEsSUFBSSxFQUFFLFFBRFA7QUFFQyxFQUFBLEtBQUssRUFBRSxDQUNOO0FBQ0MsSUFBQSxJQUFJLEVBQUUsU0FEUDtBQUVDLElBQUEsS0FBSyxFQUFFO0FBRlIsR0FETSxFQUtOO0FBQ0MsSUFBQSxJQUFJLEVBQUUsaUJBRFA7QUFFQyxJQUFBLEtBQUssRUFBRTtBQUZSLEdBTE0sRUFTTjtBQUNDLElBQUEsSUFBSSxFQUFFLFVBRFA7QUFFQyxJQUFBLEtBQUssRUFBRTtBQUZSLEdBVE0sRUFhTjtBQUNDLElBQUEsSUFBSSxFQUFFLFlBRFA7QUFFQyxJQUFBLEtBQUssRUFBRTtBQUZSLEdBYk0sRUFpQk47QUFDQyxJQUFBLElBQUksRUFBRSxjQURQO0FBRUMsSUFBQSxLQUFLLEVBQUU7QUFGUixHQWpCTSxFQXFCTjtBQUNDLElBQUEsSUFBSSxFQUFFLG1CQURQO0FBRUMsSUFBQSxLQUFLLEVBQUU7QUFGUixHQXJCTTtBQUZSLENBRGUsRUE4QmY7QUFDQyxFQUFBLElBQUksRUFBRSxNQURQO0FBRUMsRUFBQSxLQUFLLEVBQUUsQ0FDTjtBQUNDLElB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RyxLQUFLLGFBQUwsQ0FBbUIsbUJBQW5CLENBQVo7QUFDQSxRQUFNLElBQUksR0FBRyxLQUFLLGFBQUwsQ0FBbUIsa0JBQW5CLENBQWI7O0FBQ0EsUUFBSSxVQUFVLENBQUMsSUFBRCxFQUFNLEdBQU4sQ0FBVixJQUF3QixDQUFDLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBWCxHQUFrQixNQUEvQyxFQUF1RDtBQUN0RCxNQUFBLENBQUMsQ0FBQyxjQUFGO0FBQ0E7QUFDRCxHQVBEO0FBUUE7QUFDQSxDQXhGRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qY29uc3QqL1xyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG5jb25zdCBjbGFzc2VzVG9BZGQgPSBbJ3BvcHVwX2FjdGl2ZScsICdwb3B1cF9tZW51J107XHJcbmNvbnN0IGlucHV0VGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dF90ZWwnKTtcclxuY29uc3QgcG9wdXBCYXNrZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Jhc2tldCcpO1xyXG5jb25zdCB0b3RhbFN1bSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcHJpY2UnKTtcclxuLypjb25zdCovXHJcblxyXG4vKm9iaiBwcm9kdWN0Ki9cclxuY29uc3QgcHJvZHVjdCA9IFtcclxuXHR7XHJcblx0XHRuYW1lOiAn0KHQsNC70LDRgtGLJyxcclxuXHRcdGl0ZW1zOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JfQsNCz0LDQtNC60LAnLFxyXG5cdFx0XHRcdHByaWNlOiA4NVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9CX0L7Qu9C+0YLQsNGPINGA0L7RgdGB0YvQv9GMJyxcclxuXHRcdFx0XHRwcmljZTogNjBcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQktC40L3QtdCz0YDQtdGCJyxcclxuXHRcdFx0XHRwcmljZTogNjBcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQktC40YLQsNC80LjQvdC90YvQuScsXHJcblx0XHRcdFx0cHJpY2U6IDg1XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JHQtdC70YvQuSDQu9C10LHQtdC00YwnLFxyXG5cdFx0XHRcdHByaWNlOiA3NVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Ch0LXQu9GR0LTQutCwINC/0L7QtCDRiNGD0LHQvtC5JyxcclxuXHRcdFx0XHRwcmljZTogNzVcclxuXHRcdFx0fSxcclxuXHRcdF1cclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6ICfQodGD0L/RiycsXHJcblx0XHRpdGVtczogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Ch0YPQvyDQu9Cw0L/RiNCwJyxcclxuXHRcdFx0XHRwcmljZTogNzBcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQqdC4INGBINCz0L7QstGP0LTQuNC90L7QuScsXHJcblx0XHRcdFx0cHJpY2U6IDgwXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JHQvtGA0Ykg0YEg0LPQvtCy0Y/QtNC40L3QvtC5JyxcclxuXHRcdFx0XHRwcmljZTogODBcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQodGD0L8g0YEg0YTRgNC40LrQsNC00LXQu9GM0LrQsNC80LgnLFxyXG5cdFx0XHRcdHByaWNlOiA3MFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Ch0L7Qu9GP0L3QutCwJyxcclxuXHRcdFx0XHRwcmljZTogOTBcclxuXHRcdFx0fSxcclxuXHRcdF1cclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6ICfQktGC0L7RgNC+0LUg0LHQu9GO0LTQvicsXHJcblx0XHRpdGVtczogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9CX0LDQv9C10LrQsNC90LrQsCcsXHJcblx0XHRcdFx0cHJpY2U6IDE1MFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Cc0LDQvdGC0Ysg0YDRg9Cx0LvQtdC90YvQtSDRgSDQs9C+0LLRj9C00LjQvdC+0LknLFxyXG5cdFx0XHRcdHByaWNlOiAxMzBcclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cdH0sXHJcblx0e1xyXG5cdFx0bmFtZTogJ9CT0LDRgNC90LjRgNGLJyxcclxuXHRcdGl0ZW1zOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0KDQuNGBINC80L7Qt9Cw0LnQutCwJyxcclxuXHRcdFx0XHRwcmljZTogMzVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQn9GO0YDQtSDQutCw0YDRgtC+0YTQtdC70YzQvdC+0LUnLFxyXG5cdFx0XHRcdHByaWNlOiAzNVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Cc0LDQutCw0YDQvtC90Ysg0L7RgtCy0LDRgNC90YvQtScsXHJcblx0XHRcdFx0cHJpY2U6IDM1XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JrQsNGA0YLQvtGE0LXQu9GMINGE0YDQuCcsXHJcblx0XHRcdFx0cHJpY2U6IDUwXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JrQsNGA0YLQvtGE0LXQu9GMINC30LDQv9C10YfRkdC90YvQuScsXHJcblx0XHRcdFx0cHJpY2U6IDQ1XHJcblx0XHRcdH0sXHJcblx0XHRdXHJcblx0fSxcclxuXHR7XHJcblx0XHRuYW1lOiAn0JPQvtGA0Y/Rh9C10LUnLFxyXG5cdFx0aXRlbXM6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQodC+0YHQuNGB0LrQuCcsXHJcblx0XHRcdFx0cHJpY2U6IDg1XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JrQvtGC0LvQtdGC0LAg0L/QviDQtNC+0LzQsNGI0L3QtdC80YMnLFxyXG5cdFx0XHRcdHByaWNlOiA5NVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9CT0L7Qu9C10L3RjCDQutGD0YDQuNC90LDRjyDQttCw0YDQtdC90LDRjycsXHJcblx0XHRcdFx0cHJpY2U6IDUwXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JrRg9GA0LjQvdCw0Y8g0L7RgtCx0LjQstC90LDRjycsXHJcblx0XHRcdFx0cHJpY2U6IDEyNVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Cf0L7QtNC20LDRgNC60LAg0LjQtyDRgdCy0LjQvdC40L3RiycsXHJcblx0XHRcdFx0cHJpY2U6IDk1XHJcblx0XHRcdH0sXHJcblx0XHRdXHJcblx0fSxcclxuXHR7XHJcblx0XHRuYW1lOiAn0JHQu9C40L3RiycsXHJcblx0XHRpdGVtczogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9CR0LvQuNC90Ysg0YEg0LzRj9GB0L7QvCcsXHJcblx0XHRcdFx0cHJpY2U6IDcwXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JHQu9C40L3RiyDRgSDRgtCy0L7RgNC+0LPQvtC8JyxcclxuXHRcdFx0XHRwcmljZTogNjBcclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cdH0sXHJcbl07XHJcbmNvbnN0IHRvdGFsID0ge1xyXG5cdGl0ZW1zOiBbXHJcblxyXG5cdF0sXHJcblx0cHJpY2U6IDAsXHJcbn07XHJcbi8qb2JqKi9cclxuXHJcbi8qaW5wdXQgZmlsdGVyKi9cclxuZnVuY3Rpb24gc2V0SW5wdXRGaWx0ZXIodGV4dGJveCwgaW5wdXRGaWx0ZXIpIHtcclxuXHRbXCJpbnB1dFwiLCBcImtleWRvd25cIiwgXCJrZXl1cFwiLCBcIm1vdXNlZG93blwiLCBcIm1vdXNldXBcIiwgXCJzZWxlY3RcIiwgXCJjb250ZXh0bWVudVwiLCBcImRyb3BcIl0uZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xyXG5cdFx0dGV4dGJveC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKGlucHV0RmlsdGVyKHRoaXMudmFsdWUpKSB7XHJcblx0XHRcdFx0dGhpcy5vbGRWYWx1ZSA9IHRoaXMudmFsdWU7XHJcblx0XHRcdFx0dGhpcy5vbGRTZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XHJcblx0XHRcdFx0dGhpcy5vbGRTZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvbkVuZDtcclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmhhc093blByb3BlcnR5KFwib2xkVmFsdWVcIikpIHtcclxuXHRcdFx0XHR0aGlzLnZhbHVlID0gdGhpcy5vbGRWYWx1ZTtcclxuXHRcdFx0XHR0aGlzLnNldFNlbGVjdGlvblJhbmdlKHRoaXMub2xkU2VsZWN0aW9uU3RhcnQsIHRoaXMub2xkU2VsZWN0aW9uRW5kKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnZhbHVlID0gXCJcIjtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn1cclxuLyppbnB1dCovXHJcblxyXG4vKmNyZWF0ZSBwcm9kdWN0IGluIHBvcHVwKi9cclxuXHJcblx0Lypwb3B1cCBjb3VudCBidG4qL1xyXG5jb25zdCBidG5WYWx1ZUV2ZW50ID0gKG1pbnVzLCBidG4sIHZhbHVlLCBpdGVtKSA9PiB7XHJcblx0aWYgKG1pbnVzKSB7XHJcblx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRpZiAoTnVtYmVyKHZhbHVlLmlubmVySFRNTCkgPiAwKSB7XHJcblx0XHRcdFx0dmFsdWUuaW5uZXJIVE1MID0gU3RyaW5nKE51bWJlcih2YWx1ZS5pbm5lckhUTUwpIC0gMSk7XHJcblx0XHRcdFx0bGV0IGluZGV4ID0gdG90YWwuaXRlbXMuZmluZEluZGV4KHByb2R1Y3QgPT4gcHJvZHVjdC5uYW1lID09PSBpdGVtLm5hbWUpO1xyXG5cdFx0XHRcdGlmICh2YWx1ZS5pbm5lckhUTUwgPT09ICcwJykge1xyXG5cdFx0XHRcdFx0dG90YWwuaXRlbXMuc3BsaWNlKGluZGV4LDEpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0b3RhbC5pdGVtc1tpbmRleF0uY291bnQgPSB2YWx1ZS5pbm5lckhUTUw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRvdGFsLnByaWNlIC09IGl0ZW0ucHJpY2U7XHJcblx0XHRcdFx0dG90YWxTdW0uaW5uZXJIVE1MID0gdG90YWwucHJpY2UgKyAnIOKCvSc7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRpZiAoTnVtYmVyKHZhbHVlLmlubmVySFRNTCkgPCAzMCkge1xyXG5cdFx0XHRcdHZhbHVlLmlubmVySFRNTCA9IFN0cmluZyhOdW1iZXIodmFsdWUuaW5uZXJIVE1MKSArIDEpO1xyXG5cdFx0XHRcdGlmICh0b3RhbC5pdGVtcy5maW5kKHByb2R1Y3QgPT4gcHJvZHVjdC5uYW1lID09PSBpdGVtLm5hbWUpKSB7XHJcblx0XHRcdFx0XHRsZXQgaW5kZXggPSB0b3RhbC5pdGVtcy5maW5kSW5kZXgocHJvZHVjdCA9PiBwcm9kdWN0Lm5hbWUgPT09IGl0ZW0ubmFtZSk7XHJcblx0XHRcdFx0XHR0b3RhbC5pdGVtc1tpbmRleF0uY291bnQgPSB2YWx1ZS5pbm5lckhUTUw7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRvdGFsLml0ZW1zLnB1c2goe25hbWU6IGl0ZW0ubmFtZSwgY291bnQ6IHZhbHVlLmlubmVySFRNTH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0b3RhbC5wcmljZSArPSBpdGVtLnByaWNlO1xyXG5cdFx0XHRcdHRvdGFsU3VtLmlubmVySFRNTCA9IHRvdGFsLnByaWNlICsgJyDigr0nO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcblx0Lypwb3B1cCBjb3VudCBidG4qL1xyXG5cclxuXHQvKnN2ZyBpbiBwb3B1cC10aWxlKi9cclxuY29uc3QgY3JlYXRlU3ZnQXJyb3cgPSAoKSA9PiB7XHJcblx0bGV0IGFycm93U3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgJ3N2ZycpO1xyXG5cdGFycm93U3ZnLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX19hcnJvdycpO1xyXG5cclxuXHRsZXQgcGF0aEFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgJ3BhdGgnKTtcclxuXHRwYXRoQXJyb3cuc2V0QXR0cmlidXRlKFwiZFwiLFwiTS0wLjAwMCwxLjU0NiBMNS41MDAsNi45OTkgTDExLjAwMCwxLjU0NiBMOS40NDAsLTAuMDAxIEw1LjUwMCwzLjkwNSBMMS41NjAsLTAuMDAxIEwtMC4wMDAsMS41NDYgWlwiKTtcclxuXHJcblx0YXJyb3dTdmcuYXBwZW5kKHBhdGhBcnJvdyk7XHJcblx0cmV0dXJuIGFycm93U3ZnO1xyXG59O1xyXG5cdC8qc3ZnIGluIHBvcHVwLXRpbGUqL1xyXG5cclxuXHQvKnN2ZyBpbiBwb3B1cC1idG4qL1xyXG5jb25zdCBjcmVhdGVTdmdCdG4gPSAobWludXMpID0+IHtcclxuXHRjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0d3JhcHBlci5jbGFzc05hbWUgPSAncG9wdXBfX2Rpc2gtYnRuJztcclxuXHJcblx0Y29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgJ3N2ZycpO1xyXG5cdHN2Zy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzE1cHgnKTtcclxuXHRzdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJyM1NmIwMWEnKTtcclxuXHRzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAyNCAyNCcpO1xyXG5cclxuXHRsZXQgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsICdwYXRoJyk7XHJcblxyXG5cdGlmIChtaW51cykge1xyXG5cdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCAnTTAgMTBoMjR2NGgtMjR6Jyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHBhdGguc2V0QXR0cmlidXRlKCdkJywgJ00yNCAxMGgtMTB2LTEwaC00djEwaC0xMHY0aDEwdjEwaDR2LTEwaDEweicpO1xyXG5cdH1cclxuXHJcblx0c3ZnLmFwcGVuZChwYXRoKTtcclxuXHRyZXR1cm4gc3ZnO1xyXG59O1xyXG5cdC8qc3ZnIGluIHBvcHVwLWJ0biovXHJcblxyXG5cdC8qYnRuIGluIHBvcHVwLWNvdW50Ki9cclxuY29uc3QgY3JlYXRlQnRuVmFsdWUgPSAobWludXMpID0+IHtcclxuXHRjb25zdCBkaXNoQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0ZGlzaEJ0bi5jbGFzc05hbWUgPSAncG9wdXBfX2Rpc2gtYnRuJztcclxuXHJcblx0aWYgKG1pbnVzKSB7XHJcblx0XHRkaXNoQnRuLmFwcGVuZChjcmVhdGVTdmdCdG4obWludXMpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGlzaEJ0bi5hcHBlbmQoY3JlYXRlU3ZnQnRuKG1pbnVzKSk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZGlzaEJ0bjtcclxufTtcclxuXHQvKmJ0biBpbiBwb3B1cC1jb3VudCovXHJcblxyXG5cdC8qZGlzaCBpdGVtIGluIHBvcHVwLWNhdGVnb3J5Ki9cclxuY29uc3QgY3JlYXRlRGlzaCA9IChpdGVtKSA9PiB7XHJcblx0Y29uc3QgZGlzaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdGRpc2guY2xhc3NOYW1lID0gJ3BvcHVwX19kaXNoJztcclxuXHJcblx0Y29uc3QgZGlzaE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRkaXNoTmFtZS5jbGFzc05hbWUgPSAncG9wdXBfX2Rpc2gtbmFtZSc7XHJcblx0ZGlzaE5hbWUuaW5uZXJIVE1MID0gaXRlbS5uYW1lO1xyXG5cclxuXHRjb25zdCBkaXNoQ291bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRkaXNoQ291bnQuY2xhc3NOYW1lID0gJ3BvcHVwX19kaXNoLWNvdW50JztcclxuXHJcblx0Y29uc3QgZGlzaFZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0ZGlzaFZhbHVlLmNsYXNzTmFtZSA9ICdwb3B1cF9fZGlzaC12YWx1ZSc7XHJcblx0ZGlzaFZhbHVlLmlubmVySFRNTCA9ICcwJztcclxuXHJcblx0Y29uc3QgZGlzaEJ0bk1pbnVzID0gY3JlYXRlQnRuVmFsdWUodHJ1ZSk7XHJcblx0YnRuVmFsdWVFdmVudCh0cnVlLCBkaXNoQnRuTWludXMsIGRpc2hWYWx1ZSwgaXRlbSk7XHJcblx0Y29uc3QgZGlzaEJ0blBsdXMgPSBjcmVhdGVCdG5WYWx1ZShmYWxzZSk7XHJcblx0YnRuVmFsdWVFdmVudChmYWxzZSwgZGlzaEJ0blBsdXMsIGRpc2hWYWx1ZSwgaXRlbSk7XHJcblxyXG5cdGRpc2hDb3VudC5hcHBlbmQoZGlzaEJ0bk1pbnVzLCBkaXNoVmFsdWUsIGRpc2hCdG5QbHVzKTtcclxuXHRkaXNoLmFwcGVuZChkaXNoTmFtZSwgZGlzaENvdW50KTtcclxuXHRyZXR1cm4gZGlzaDtcclxufTtcclxuXHQvKmRpc2ggaXRlbSBpbiBwb3B1cC1jYXRlZ29yeSovXHJcblxyXG5cdC8qcG9wdXAgYWNjb3JkaW9uKi9cclxuY29uc3QgcG9wdXBBY2NvcmRpb24gPSAoaXRlbSwgY29udGFpbmVyKSA9PiB7XHJcblx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0aXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdwb3B1cF9faXRlbV9hY3RpdmUnKTtcclxuXHRcdGlmIChjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0KSB7XHJcblx0XHRcdGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBudWxsO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IGAke2NvbnRhaW5lci5zY3JvbGxIZWlnaHR9cHhgO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cdC8qcG9wdXAgYWNjb3JkaW9uKi9cclxuXHJcbmNvbnN0IGNyZWF0ZVByb2R1Y3QgPSAoaXRlbXMpID0+IHtcclxuXHRpdGVtcy5mb3JFYWNoKChvYmopID0+IHtcclxuXHRcdGNvbnN0IGNhdGVnb3J5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRjYXRlZ29yeS5jbGFzc05hbWUgPSAncG9wdXBfX2l0ZW0nO1xyXG5cclxuXHRcdGNvbnN0IHRpdGxlQ2F0ZWdvcnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHRpdGxlQ2F0ZWdvcnkuY2xhc3NOYW1lID0gJ3BvcHVwX19pdGVtLXRpdGxlJztcclxuXHRcdHRpdGxlQ2F0ZWdvcnkuaW5uZXJIVE1MID0gb2JqLm5hbWU7XHJcblx0XHR0aXRsZUNhdGVnb3J5LmFwcGVuZChjcmVhdGVTdmdBcnJvdygpKTtcclxuXHJcblx0XHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGNvbnRhaW5lci5jbGFzc05hbWUgPSAncG9wdXBfX2l0ZW0tY29udGFpbmVyJztcclxuXHJcblx0XHRvYmouaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRjb250YWluZXIuYXBwZW5kKGNyZWF0ZURpc2goaXRlbSkpO1xyXG5cdFx0fSk7XHJcblx0XHRwb3B1cEFjY29yZGlvbihjYXRlZ29yeSxjb250YWluZXIpO1xyXG5cclxuXHRcdGNhdGVnb3J5LmFwcGVuZCh0aXRsZUNhdGVnb3J5LCBjb250YWluZXIpO1xyXG5cdFx0cG9wdXBCYXNrZXQuYXBwZW5kKGNhdGVnb3J5KTtcclxuXHR9KVxyXG59O1xyXG4vKmNyZWF0ZSBwcm9kdWN0IGluIHBvcHVwKi9cclxuXHJcbi8qb3BlbiBwb3B1cCBiYXNrZXQqL1xyXG5jb25zdCBvcGVuQmFza2V0ID0gKCkgPT4ge1xyXG5cdHBvcHVwLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlc1RvQWRkKTtcclxufTtcclxuLypvcGVuIHBvcHVwIGJhc2tldCovXHJcblxyXG4vKmJhY2sgY2FsbCovXHJcbmNvbnN0IG9wZW5DYWxsQmFjayA9ICgpID0+IHtcclxuXHRwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9hY3RpdmUnLCAncG9wdXBfY2FsbCcpO1xyXG59O1xyXG4vKmJhY2sgY2FsbCovXHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG5cdC8qaW5pdCBwcm9kdWN0IGluIHBvcHVwKi9cclxuXHRjcmVhdGVQcm9kdWN0KHByb2R1Y3QpO1xyXG5cdC8qaW5pdCBwcm9kdWN0IGluIHBvcHVwKi9cclxuXHJcblx0Lyppbml0IGZpbHRlciBpbnB1dCovXHJcblx0aW5wdXRUZWwuZm9yRWFjaCgoaW5wdXQpPT4ge1xyXG5cdFx0c2V0SW5wdXRGaWx0ZXIoaW5wdXQsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiAvXi0/XFxkKiQvLnRlc3QodmFsdWUpOyB9KTtcclxuXHR9KTtcclxuXHQvKmluaXQgZmlsdGVyIGlucHV0Ki9cclxuXHJcblx0LypmYXEgYWNjb3JkaW9uKi9cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFxX19pdGVtJykuZm9yRWFjaCgoYWNjb3JkaW9uKSA9PiB7XHJcblx0XHRjb25zdCBoaWRkZW5TZWN0aW9uID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoJy5mYXFfX2hpZGRlbicpO1xyXG5cclxuXHRcdGFjY29yZGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0XHRhY2NvcmRpb24uY2xhc3NMaXN0LnRvZ2dsZSgnZmFxX19pdGVtX2FjdGl2ZScpO1xyXG5cdFx0XHRpZiAoaGlkZGVuU2VjdGlvbi5zdHlsZS5tYXhIZWlnaHQpIHtcclxuXHRcdFx0XHRoaWRkZW5TZWN0aW9uLnN0eWxlLm1heEhlaWdodCA9IG51bGw7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGlkZGVuU2VjdGlvbi5zdHlsZS5tYXhIZWlnaHQgPSBgJHtoaWRkZW5TZWN0aW9uLnNjcm9sbEhlaWdodH1weGA7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cdC8qZmFxIGFjY29yZGlvbiovXHJcblxyXG5cdC8qYW5jaG9yKi9cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW2hyZWZePVwiI1wiXScpLmZvckVhY2goYW5jaG9yID0+IHtcclxuXHRcdGFuY2hvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkuc2Nyb2xsSW50b1ZpZXcoe1xyXG5cdFx0XHRcdGJlaGF2aW9yOiAnc21vb3RoJ1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cdC8qYW5jaG9yKi9cclxuXHJcblx0LypvcGVuIHBvcHVwKi9cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuX25hdicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkJhc2tldCk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bl9oZWFkZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5CYXNrZXQpO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5fd29yaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkJhc2tldCk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX2J0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkJhc2tldCk7XHJcblx0LypvcGVuIHBvcHVwKi9cclxuXHJcblx0LypleGl0IHBvcHVwKi9cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2V4aXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX2FjdGl2ZScsICdwb3B1cF9tZW51JywgJ3BvcHVwX2ZhcScsICdwb3B1cF9jYWxsJyk7XHJcblx0fSk7XHJcblx0LypleGl0IHBvcHVwKi9cclxuXHJcblx0LypvcGVuIGNhbGwgYmFjayovXHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bl9mYXEnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2FjdGl2ZScsICdwb3B1cF9mYXEnKVxyXG5cdH0pO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5fY29udGFjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxvcGVuQ2FsbEJhY2spO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWFpbl9fY2FsbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkNhbGxCYWNrKTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLW1haW5fX2NhbGwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5DYWxsQmFjayk7XHJcblx0LypvcGVuIGNhbGwgYmFjayovXHJcblxyXG5cdC8qY2hlY2sgZm9ybSovXHJcblx0Y29uc3QgY2hlY2tJbnB1dCA9IChuYW1lLCB0ZWwpID0+IHtcclxuXHRcdHJldHVybiAhbmFtZS52YWx1ZS50cmltKCkubGVuZ3RoIHx8ICF0ZWwudmFsdWU7XHJcblx0fTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fbWVudScpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdGNvbnN0IG5hbWUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdGVsJyk7XHJcblx0XHRjb25zdCB0ZWwgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdGVsJyk7XHJcblx0XHRpZiAoY2hlY2tJbnB1dChuYW1lLHRlbCkgfHwgdG90YWwucHJpY2UgPT09IDApIHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9jYWxsJykuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdGNvbnN0IG5hbWUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdGVsJyk7XHJcblx0XHRjb25zdCB0ZWwgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdGVsJyk7XHJcblx0XHRpZiAoY2hlY2tJbnB1dChuYW1lLHRlbCkpIHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9mYXEnKS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0Y29uc3QgbmFtZSA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90ZWwnKTtcclxuXHRcdGNvbnN0IHRlbCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90ZWwnKTtcclxuXHRcdGNvbnN0IHRleHQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdGV4dGFyZWEnKTtcclxuXHRcdGlmIChjaGVja0lucHV0KG5hbWUsdGVsKSB8fCAhdGV4dC52YWx1ZS50cmltKCkubGVuZ3RoKSB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdH1cclxuXHR9KVxyXG5cdC8qY2hlY2sgZm9ybSovXHJcbn07Il19
