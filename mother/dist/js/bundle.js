(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

/*const*/
var popup = document.querySelector('.popup');
var classesToAdd = ['popup_active', 'popup_menu'];
var inputTel = document.querySelectorAll('.popup__input_tel');
var popupBasket = document.querySelector('.popup__basket');
var totalSum = document.querySelector('.popup__price');
/*const*/

/*obj product*/

var product = [{
  name: 'Салаты',
  items: [{
    name: 'Загадка',
    price: 85
  }, {
    name: 'Золотая россыпь',
    price: 60
  }, {
    name: 'Винегрет',
    price: 60
  }, {
    name: 'Витаминный',
    price: 85
  }, {
    name: 'Белый лебедь',
    price: 75
  }, {
    name: 'Селёдка под шубой',
    price: 75
  }]
}, {
  name: 'Супы',
  items: [{
    name: 'Суп лапша',
    price: 70
  }, {
    name: 'Щи с говядиной',
    price: 80
  }, {
    name: 'Борщ с говядиной',
    price: 80
  }, {
    name: 'Суп с фрикадельками',
    price: 70
  }, {
    name: 'Солянка',
    price: 90
  }]
}, {
  name: 'Второе блюдо',
  items: [{
    name: 'Запеканка',
    price: 150
  }, {
    name: 'Манты рубленые с говядиной',
    price: 130
  }]
}, {
  name: 'Гарниры',
  items: [{
    name: 'Рис мозайка',
    price: 35
  }, {
    name: 'Пюре картофельное',
    price: 35
  }, {
    name: 'Макароны отварные',
    price: 35
  }, {
    name: 'Картофель фри',
    price: 50
  }, {
    name: 'Картофель запечёный',
    price: 45
  }]
}, {
  name: 'Горячее',
  items: [{
    name: 'Сосиски',
    price: 85
  }, {
    name: 'Котлета по домашнему',
    price: 95
  }, {
    name: 'Голень куриная жареная',
    price: 50
  }, {
    name: 'Куриная отбивная',
    price: 125
  }, {
    name: 'Поджарка из свинины',
    price: 95
  }]
}, {
  name: 'Блины',
  items: [{
    name: 'Блины с мясом',
    price: 70
  }, {
    name: 'Блины с творогом',
    price: 60
  }]
}];
var total = {
  items: [],
  price: 0
};
/*obj*/

/*input filter*/

function setInputFilter(textbox, inputFilter) {
  ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function (event) {
    textbox.addEventListener(event, function () {
      if (inputFilter(this.value)) {
        this.oldValue = this.value;
        this.oldSelectionStart = this.selectionStart;
        this.oldSelectionEnd = this.selectionEnd;
      } else if (this.hasOwnProperty("oldValue")) {
        this.value = this.oldValue;
        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
      } else {
        this.value = "";
      }
    });
  });
}
/*input*/

/*create product in popup*/

/*popup count btn*/


var btnValueEvent = function btnValueEvent(minus, btn, value, item) {
  if (minus) {
    btn.addEventListener('click', function (e) {
      e.stopPropagation();

      if (Number(value.innerHTML) > 0) {
        value.innerHTML = String(Number(value.innerHTML) - 1);
        var index = total.items.findIndex(function (product) {
          return product.name === item.name;
        });

        if (value.innerHTML === '0') {
          total.items.splice(index, 1);
        } else {
          total.items[index].count = value.innerHTML;
        }

        total.price -= item.price;
        totalSum.innerHTML = total.price + ' ₽';
      }
    });
  } else {
    btn.addEventListener('click', function (e) {
      e.stopPropagation();

      if (Number(value.innerHTML) < 30) {
        value.innerHTML = String(Number(value.innerHTML) + 1);

        if (total.items.find(function (product) {
          return product.name === item.name;
        })) {
          var index = total.items.findIndex(function (product) {
            return product.name === item.name;
          });
          total.items[index].count = value.innerHTML;
        } else {
          total.items.push({
            name: item.name,
            count: value.innerHTML
          });
        }

        total.price += item.price;
        totalSum.innerHTML = total.price + ' ₽';
      }
    });
  }
};
/*popup count btn*/

/*svg in popup-tile*/


var createSvgArrow = function createSvgArrow() {
  var arrowSvg = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
  arrowSvg.classList.add('popup__arrow');
  var pathArrow = document.createElementNS("http://www.w3.org/2000/svg", 'path');
  pathArrow.setAttribute("d", "M-0.000,1.546 L5.500,6.999 L11.000,1.546 L9.440,-0.001 L5.500,3.905 L1.560,-0.001 L-0.000,1.546 Z");
  arrowSvg.append(pathArrow);
  return arrowSvg;
};
/*svg in popup-tile*/

/*svg in popup-btn*/


var createSvgBtn = function createSvgBtn(minus) {
  var wrapper = document.createElement('div');
  wrapper.className = 'popup__dish-btn';
  var svg = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
  svg.setAttribute('width', '15px');
  svg.setAttribute('fill', '#56b01a');
  svg.setAttribute('viewBox', '0 0 24 24');
  var path = document.createElementNS("http://www.w3.org/2000/svg", 'path');

  if (minus) {
    path.setAttribute('d', 'M0 10h24v4h-24z');
  } else {
    path.setAttribute('d', 'M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z');
  }

  svg.append(path);
  return svg;
};
/*svg in popup-btn*/

/*btn in popup-count*/


var createBtnValue = function createBtnValue(minus) {
  var dishBtn = document.createElement('div');
  dishBtn.className = 'popup__dish-btn';

  if (minus) {
    dishBtn.append(createSvgBtn(minus));
  } else {
    dishBtn.append(createSvgBtn(minus));
  }

  return dishBtn;
};
/*btn in popup-count*/

/*dish item in popup-category*/


var createDish = function createDish(item) {
  var dish = document.createElement('div');
  dish.className = 'popup__dish';
  var dishName = document.createElement('div');
  dishName.className = 'popup__dish-name';
  dishName.innerHTML = item.name;
  var dishCount = document.createElement('div');
  dishCount.className = 'popup__dish-count';
  var dishValue = document.createElement('div');
  dishValue.className = 'popup__dish-value';
  dishValue.innerHTML = '0';
  var dishBtnMinus = createBtnValue(true);
  btnValueEvent(true, dishBtnMinus, dishValue, item);
  var dishBtnPlus = createBtnValue(false);
  btnValueEvent(false, dishBtnPlus, dishValue, item);
  dishCount.append(dishBtnMinus, dishValue, dishBtnPlus);
  dish.append(dishName, dishCount);
  return dish;
};
/*dish item in popup-category*/

/*popup accordion*/


var popupAccordion = function popupAccordion(item, container) {
  item.addEventListener("click", function () {
    item.classList.toggle('popup__item_active');

    if (container.style.maxHeight) {
      container.style.maxHeight = null;
    } else {
      container.style.maxHeight = "".concat(container.scrollHeight, "px");
    }
  });
};
/*popup accordion*/


var createProduct = function createProduct(items) {
  items.forEach(function (obj) {
    var category = document.createElement('div');
    category.className = 'popup__item';
    var titleCategory = document.createElement('div');
    titleCategory.className = 'popup__item-title';
    titleCategory.innerHTML = obj.name;
    titleCategory.append(createSvgArrow());
    var container = document.createElement('div');
    container.className = 'popup__item-container';
    obj.items.forEach(function (item) {
      container.append(createDish(item));
    });
    popupAccordion(category, container);
    category.append(titleCategory, container);
    popupBasket.append(category);
  });
};
/*create product in popup*/

/*open popup basket*/


var openBasket = function openBasket() {
  var _popup$classList;

  (_popup$classList = popup.classList).add.apply(_popup$classList, classesToAdd);
};
/*open popup basket*/

/*back call*/


var openCallBack = function openCallBack() {
  popup.classList.add('popup_active', 'popup_call');
};
/*back call*/


window.onload = function () {
  /*init product in popup*/
  createProduct(product);
  /*init product in popup*/

  /*init filter input*/

  inputTel.forEach(function (input) {
    setInputFilter(input, function (value) {
      return /^-?\d*$/.test(value);
    });
  });
  /*init filter input*/

  /*faq accordion*/

  document.querySelectorAll('.faq__item').forEach(function (accordion) {
    var hiddenSection = accordion.querySelector('.faq__hidden');
    accordion.addEventListener("click", function () {
      accordion.classList.toggle('faq__item_active');

      if (hiddenSection.style.maxHeight) {
        hiddenSection.style.maxHeight = null;
      } else {
        hiddenSection.style.maxHeight = "".concat(hiddenSection.scrollHeight, "px");
      }
    });
  });
  /*faq accordion*/

  /*anchor*/

  document.querySelectorAll('a[href^="#"]').forEach(function (anchor) {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      document.querySelector(this.getAttribute('href')).scrollIntoView({
        behavior: 'smooth'
      });
    });
  });
  /*anchor*/

  /*open popup*/

  document.querySelector('.btn_nav').addEventListener('click', openBasket);
  document.querySelector('.btn_header').addEventListener('click', openBasket);
  document.querySelector('.btn_work').addEventListener('click', openBasket);
  document.querySelector('.menu__btn').addEventListener('click', openBasket);
  /*open popup*/

  /*exit popup*/

  document.querySelector('.popup__exit').addEventListener('click', function () {
    popup.classList.remove('popup_active', 'popup_menu', 'popup_faq', 'popup_call');
  });
  /*exit popup*/

  /*open call back*/

  document.querySelector('.btn_faq').addEventListener('click', function () {
    popup.classList.add('popup_active', 'popup_faq');
  });
  document.querySelector('.btn_contact').addEventListener('click', openCallBack);
  document.querySelector('.header-main__call').addEventListener('click', openCallBack);
  document.querySelector('.footer-main__call').addEventListener('click', openCallBack);
  /*open call back*/

  /*check form*/

  var checkInput = function checkInput(name, tel) {
    return !name.value.trim().length || !tel.value;
  };

  document.querySelector('.popup__form_menu').addEventListener('submit', function (e) {
    var name = this.querySelector('.popup__input_tel');
    var tel = this.querySelector('.popup__input_tel');

    if (checkInput(name, tel) || total.price === 0) {
      e.preventDefault();
    }
  });
  document.querySelector('.popup__form_call').addEventListener('submit', function (e) {
    var name = this.querySelector('.popup__input_tel');
    var tel = this.querySelector('.popup__input_tel');

    if (checkInput(name, tel)) {
      e.preventDefault();
    }
  });
  document.querySelector('.popup__form_faq').addEventListener('submit', function (e) {
    var name = this.querySelector('.popup__input_tel');
    var tel = this.querySelector('.popup__input_tel');
    var text = this.querySelector('.popup__textarea');

    if (checkInput(name, tel) || !text.value.trim().length) {
      e.preventDefault();
    }
  });
  /*check form*/
  // const request = (obj) => {
  // 	let xhr = new XMLHttpRequest();
  // 	xhr.open('POST', 'send.php');
  // 	xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  // 	xhr.send('param=' + JSON.stringify(obj));
  // 	xhr.onreadystatechange = function () {
  // 		xhr.onreadystatechange = function()
  // 		{
  // 			if (this.readyState == 4)
  // 			{
  // 				if (this.status == 200)
  // 				{
  // 					console.log(xhr.responseText);
  // 				}
  // 				else
  // 				{
  // 					console.log('ajax error');
  // 				}
  // 			}
  // 		};
  // 	}
  // };
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7QUFDQSxJQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixRQUF2QixDQUFkO0FBQ0EsSUFBTSxZQUFZLEdBQUcsQ0FBQyxjQUFELEVBQWlCLFlBQWpCLENBQXJCO0FBQ0EsSUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLGdCQUFULENBQTBCLG1CQUExQixDQUFqQjtBQUNBLElBQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLGdCQUF2QixDQUFwQjtBQUNBLElBQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLGVBQXZCLENBQWpCO0FBQ0E7O0FBRUE7O0FBQ0EsSUFBTSxPQUFPLEdBQUcsQ0FDZjtBQUNDLEVBQUEsSUFBSSxFQUFFLFFBRFA7QUFFQyxFQUFBLEtBQUssRUFBRSxDQUNOO0FBQ0MsSUFBQSxJQUFJLEVBQUUsU0FEUDtBQUVDLElBQUEsS0FBSyxFQUFFO0FBRlIsR0FETSxFQUtOO0FBQ0MsSUFBQSxJQUFJLEVBQUUsaUJBRFA7QUFFQyxJQUFBLEtBQUssRUFBRTtBQUZSLEdBTE0sRUFTTjtBQUNDLElBQUEsSUFBSSxFQUFFLFVBRFA7QUFFQyxJQUFBLEtBQUssRUFBRTtBQUZSLEdBVE0sRUFhTjtBQUNDLElBQUEsSUFBSSxFQUFFLFlBRFA7QUFFQyxJQUFBLEtBQUssRUFBRTtBQUZSLEdBYk0sRUFpQk47QUFDQyxJQUFBLElBQUksRUFBRSxjQURQO0FBRUMsSUFBQSxLQUFLLEVBQUU7QUFGUixHQWpCTSxFQXFCTjtBQUNDLElBQUEsSUFBSSxFQUFFLG1CQURQO0FBRUMsSUFBQSxLQUFLLEVBQUU7QUFGUixHQXJCTTtBQUZSLENBRGUsRUE4QmY7QUFDQyxFQUFBLElBQUksRUFBRSxNQURQO0FBRUMsRUFBQSxLQUFLLEVBQUUsQ0FDTjtBQUNDLElB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RyxLQUFLLGFBQUwsQ0FBbUIsbUJBQW5CLENBQVo7QUFDQSxRQUFNLElBQUksR0FBRyxLQUFLLGFBQUwsQ0FBbUIsa0JBQW5CLENBQWI7O0FBQ0EsUUFBSSxVQUFVLENBQUMsSUFBRCxFQUFNLEdBQU4sQ0FBVixJQUF3QixDQUFDLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBWCxHQUFrQixNQUEvQyxFQUF1RDtBQUN0RCxNQUFBLENBQUMsQ0FBQyxjQUFGO0FBQ0E7QUFDRCxHQVBEO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBL0dEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLypjb25zdCovXHJcbmNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbmNvbnN0IGNsYXNzZXNUb0FkZCA9IFsncG9wdXBfYWN0aXZlJywgJ3BvcHVwX21lbnUnXTtcclxuY29uc3QgaW5wdXRUZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0X3RlbCcpO1xyXG5jb25zdCBwb3B1cEJhc2tldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYmFza2V0Jyk7XHJcbmNvbnN0IHRvdGFsU3VtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19wcmljZScpO1xyXG4vKmNvbnN0Ki9cclxuXHJcbi8qb2JqIHByb2R1Y3QqL1xyXG5jb25zdCBwcm9kdWN0ID0gW1xyXG5cdHtcclxuXHRcdG5hbWU6ICfQodCw0LvQsNGC0YsnLFxyXG5cdFx0aXRlbXM6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQl9Cw0LPQsNC00LrQsCcsXHJcblx0XHRcdFx0cHJpY2U6IDg1XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JfQvtC70L7RgtCw0Y8g0YDQvtGB0YHRi9C/0YwnLFxyXG5cdFx0XHRcdHByaWNlOiA2MFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9CS0LjQvdC10LPRgNC10YInLFxyXG5cdFx0XHRcdHByaWNlOiA2MFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9CS0LjRgtCw0LzQuNC90L3Ri9C5JyxcclxuXHRcdFx0XHRwcmljZTogODVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQkdC10LvRi9C5INC70LXQsdC10LTRjCcsXHJcblx0XHRcdFx0cHJpY2U6IDc1XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0KHQtdC70ZHQtNC60LAg0L/QvtC0INGI0YPQsdC+0LknLFxyXG5cdFx0XHRcdHByaWNlOiA3NVxyXG5cdFx0XHR9LFxyXG5cdFx0XVxyXG5cdH0sXHJcblx0e1xyXG5cdFx0bmFtZTogJ9Ch0YPQv9GLJyxcclxuXHRcdGl0ZW1zOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0KHRg9C/INC70LDQv9GI0LAnLFxyXG5cdFx0XHRcdHByaWNlOiA3MFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Cp0Lgg0YEg0LPQvtCy0Y/QtNC40L3QvtC5JyxcclxuXHRcdFx0XHRwcmljZTogODBcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQkdC+0YDRiSDRgSDQs9C+0LLRj9C00LjQvdC+0LknLFxyXG5cdFx0XHRcdHByaWNlOiA4MFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Ch0YPQvyDRgSDRhNGA0LjQutCw0LTQtdC70YzQutCw0LzQuCcsXHJcblx0XHRcdFx0cHJpY2U6IDcwXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0KHQvtC70Y/QvdC60LAnLFxyXG5cdFx0XHRcdHByaWNlOiA5MFxyXG5cdFx0XHR9LFxyXG5cdFx0XVxyXG5cdH0sXHJcblx0e1xyXG5cdFx0bmFtZTogJ9CS0YLQvtGA0L7QtSDQsdC70Y7QtNC+JyxcclxuXHRcdGl0ZW1zOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JfQsNC/0LXQutCw0L3QutCwJyxcclxuXHRcdFx0XHRwcmljZTogMTUwXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JzQsNC90YLRiyDRgNGD0LHQu9C10L3Ri9C1INGBINCz0L7QstGP0LTQuNC90L7QuScsXHJcblx0XHRcdFx0cHJpY2U6IDEzMFxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0fSxcclxuXHR7XHJcblx0XHRuYW1lOiAn0JPQsNGA0L3QuNGA0YsnLFxyXG5cdFx0aXRlbXM6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQoNC40YEg0LzQvtC30LDQudC60LAnLFxyXG5cdFx0XHRcdHByaWNlOiAzNVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Cf0Y7RgNC1INC60LDRgNGC0L7RhNC10LvRjNC90L7QtScsXHJcblx0XHRcdFx0cHJpY2U6IDM1XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JzQsNC60LDRgNC+0L3RiyDQvtGC0LLQsNGA0L3Ri9C1JyxcclxuXHRcdFx0XHRwcmljZTogMzVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQmtCw0YDRgtC+0YTQtdC70Ywg0YTRgNC4JyxcclxuXHRcdFx0XHRwcmljZTogNTBcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQmtCw0YDRgtC+0YTQtdC70Ywg0LfQsNC/0LXRh9GR0L3Ri9C5JyxcclxuXHRcdFx0XHRwcmljZTogNDVcclxuXHRcdFx0fSxcclxuXHRcdF1cclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6ICfQk9C+0YDRj9GH0LXQtScsXHJcblx0XHRpdGVtczogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ9Ch0L7RgdC40YHQutC4JyxcclxuXHRcdFx0XHRwcmljZTogODVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQmtC+0YLQu9C10YLQsCDQv9C+INC00L7QvNCw0YjQvdC10LzRgycsXHJcblx0XHRcdFx0cHJpY2U6IDk1XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JPQvtC70LXQvdGMINC60YPRgNC40L3QsNGPINC20LDRgNC10L3QsNGPJyxcclxuXHRcdFx0XHRwcmljZTogNTBcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQmtGD0YDQuNC90LDRjyDQvtGC0LHQuNCy0L3QsNGPJyxcclxuXHRcdFx0XHRwcmljZTogMTI1XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0J/QvtC00LbQsNGA0LrQsCDQuNC3INGB0LLQuNC90LjQvdGLJyxcclxuXHRcdFx0XHRwcmljZTogOTVcclxuXHRcdFx0fSxcclxuXHRcdF1cclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6ICfQkdC70LjQvdGLJyxcclxuXHRcdGl0ZW1zOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAn0JHQu9C40L3RiyDRgSDQvNGP0YHQvtC8JyxcclxuXHRcdFx0XHRwcmljZTogNzBcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICfQkdC70LjQvdGLINGBINGC0LLQvtGA0L7Qs9C+0LwnLFxyXG5cdFx0XHRcdHByaWNlOiA2MFxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0fSxcclxuXTtcclxuY29uc3QgdG90YWwgPSB7XHJcblx0aXRlbXM6IFtcclxuXHJcblx0XSxcclxuXHRwcmljZTogMCxcclxufTtcclxuLypvYmoqL1xyXG5cclxuLyppbnB1dCBmaWx0ZXIqL1xyXG5mdW5jdGlvbiBzZXRJbnB1dEZpbHRlcih0ZXh0Ym94LCBpbnB1dEZpbHRlcikge1xyXG5cdFtcImlucHV0XCIsIFwia2V5ZG93blwiLCBcImtleXVwXCIsIFwibW91c2Vkb3duXCIsIFwibW91c2V1cFwiLCBcInNlbGVjdFwiLCBcImNvbnRleHRtZW51XCIsIFwiZHJvcFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHR0ZXh0Ym94LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoaW5wdXRGaWx0ZXIodGhpcy52YWx1ZSkpIHtcclxuXHRcdFx0XHR0aGlzLm9sZFZhbHVlID0gdGhpcy52YWx1ZTtcclxuXHRcdFx0XHR0aGlzLm9sZFNlbGVjdGlvblN0YXJ0ID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcclxuXHRcdFx0XHR0aGlzLm9sZFNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoXCJvbGRWYWx1ZVwiKSkge1xyXG5cdFx0XHRcdHRoaXMudmFsdWUgPSB0aGlzLm9sZFZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5vbGRTZWxlY3Rpb25TdGFydCwgdGhpcy5vbGRTZWxlY3Rpb25FbmQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMudmFsdWUgPSBcIlwiO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxufVxyXG4vKmlucHV0Ki9cclxuXHJcbi8qY3JlYXRlIHByb2R1Y3QgaW4gcG9wdXAqL1xyXG5cclxuXHQvKnBvcHVwIGNvdW50IGJ0biovXHJcbmNvbnN0IGJ0blZhbHVlRXZlbnQgPSAobWludXMsIGJ0biwgdmFsdWUsIGl0ZW0pID0+IHtcclxuXHRpZiAobWludXMpIHtcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdGlmIChOdW1iZXIodmFsdWUuaW5uZXJIVE1MKSA+IDApIHtcclxuXHRcdFx0XHR2YWx1ZS5pbm5lckhUTUwgPSBTdHJpbmcoTnVtYmVyKHZhbHVlLmlubmVySFRNTCkgLSAxKTtcclxuXHRcdFx0XHRsZXQgaW5kZXggPSB0b3RhbC5pdGVtcy5maW5kSW5kZXgocHJvZHVjdCA9PiBwcm9kdWN0Lm5hbWUgPT09IGl0ZW0ubmFtZSk7XHJcblx0XHRcdFx0aWYgKHZhbHVlLmlubmVySFRNTCA9PT0gJzAnKSB7XHJcblx0XHRcdFx0XHR0b3RhbC5pdGVtcy5zcGxpY2UoaW5kZXgsMSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRvdGFsLml0ZW1zW2luZGV4XS5jb3VudCA9IHZhbHVlLmlubmVySFRNTDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dG90YWwucHJpY2UgLT0gaXRlbS5wcmljZTtcclxuXHRcdFx0XHR0b3RhbFN1bS5pbm5lckhUTUwgPSB0b3RhbC5wcmljZSArICcg4oK9JztcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdGlmIChOdW1iZXIodmFsdWUuaW5uZXJIVE1MKSA8IDMwKSB7XHJcblx0XHRcdFx0dmFsdWUuaW5uZXJIVE1MID0gU3RyaW5nKE51bWJlcih2YWx1ZS5pbm5lckhUTUwpICsgMSk7XHJcblx0XHRcdFx0aWYgKHRvdGFsLml0ZW1zLmZpbmQocHJvZHVjdCA9PiBwcm9kdWN0Lm5hbWUgPT09IGl0ZW0ubmFtZSkpIHtcclxuXHRcdFx0XHRcdGxldCBpbmRleCA9IHRvdGFsLml0ZW1zLmZpbmRJbmRleChwcm9kdWN0ID0+IHByb2R1Y3QubmFtZSA9PT0gaXRlbS5uYW1lKTtcclxuXHRcdFx0XHRcdHRvdGFsLml0ZW1zW2luZGV4XS5jb3VudCA9IHZhbHVlLmlubmVySFRNTDtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dG90YWwuaXRlbXMucHVzaCh7bmFtZTogaXRlbS5uYW1lLCBjb3VudDogdmFsdWUuaW5uZXJIVE1MfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRvdGFsLnByaWNlICs9IGl0ZW0ucHJpY2U7XHJcblx0XHRcdFx0dG90YWxTdW0uaW5uZXJIVE1MID0gdG90YWwucHJpY2UgKyAnIOKCvSc7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuXHQvKnBvcHVwIGNvdW50IGJ0biovXHJcblxyXG5cdC8qc3ZnIGluIHBvcHVwLXRpbGUqL1xyXG5jb25zdCBjcmVhdGVTdmdBcnJvdyA9ICgpID0+IHtcclxuXHRsZXQgYXJyb3dTdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCAnc3ZnJyk7XHJcblx0YXJyb3dTdmcuY2xhc3NMaXN0LmFkZCgncG9wdXBfX2Fycm93Jyk7XHJcblxyXG5cdGxldCBwYXRoQXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCAncGF0aCcpO1xyXG5cdHBhdGhBcnJvdy5zZXRBdHRyaWJ1dGUoXCJkXCIsXCJNLTAuMDAwLDEuNTQ2IEw1LjUwMCw2Ljk5OSBMMTEuMDAwLDEuNTQ2IEw5LjQ0MCwtMC4wMDEgTDUuNTAwLDMuOTA1IEwxLjU2MCwtMC4wMDEgTC0wLjAwMCwxLjU0NiBaXCIpO1xyXG5cclxuXHRhcnJvd1N2Zy5hcHBlbmQocGF0aEFycm93KTtcclxuXHRyZXR1cm4gYXJyb3dTdmc7XHJcbn07XHJcblx0LypzdmcgaW4gcG9wdXAtdGlsZSovXHJcblxyXG5cdC8qc3ZnIGluIHBvcHVwLWJ0biovXHJcbmNvbnN0IGNyZWF0ZVN2Z0J0biA9IChtaW51cykgPT4ge1xyXG5cdGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHR3cmFwcGVyLmNsYXNzTmFtZSA9ICdwb3B1cF9fZGlzaC1idG4nO1xyXG5cclxuXHRjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCAnc3ZnJyk7XHJcblx0c3ZnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMTVweCcpO1xyXG5cdHN2Zy5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnIzU2YjAxYScpO1xyXG5cdHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDI0IDI0Jyk7XHJcblxyXG5cdGxldCBwYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgJ3BhdGgnKTtcclxuXHJcblx0aWYgKG1pbnVzKSB7XHJcblx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZCcsICdNMCAxMGgyNHY0aC0yNHonKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCAnTTI0IDEwaC0xMHYtMTBoLTR2MTBoLTEwdjRoMTB2MTBoNHYtMTBoMTB6Jyk7XHJcblx0fVxyXG5cclxuXHRzdmcuYXBwZW5kKHBhdGgpO1xyXG5cdHJldHVybiBzdmc7XHJcbn07XHJcblx0LypzdmcgaW4gcG9wdXAtYnRuKi9cclxuXHJcblx0LypidG4gaW4gcG9wdXAtY291bnQqL1xyXG5jb25zdCBjcmVhdGVCdG5WYWx1ZSA9IChtaW51cykgPT4ge1xyXG5cdGNvbnN0IGRpc2hCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRkaXNoQnRuLmNsYXNzTmFtZSA9ICdwb3B1cF9fZGlzaC1idG4nO1xyXG5cclxuXHRpZiAobWludXMpIHtcclxuXHRcdGRpc2hCdG4uYXBwZW5kKGNyZWF0ZVN2Z0J0bihtaW51cykpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRkaXNoQnRuLmFwcGVuZChjcmVhdGVTdmdCdG4obWludXMpKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBkaXNoQnRuO1xyXG59O1xyXG5cdC8qYnRuIGluIHBvcHVwLWNvdW50Ki9cclxuXHJcblx0LypkaXNoIGl0ZW0gaW4gcG9wdXAtY2F0ZWdvcnkqL1xyXG5jb25zdCBjcmVhdGVEaXNoID0gKGl0ZW0pID0+IHtcclxuXHRjb25zdCBkaXNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0ZGlzaC5jbGFzc05hbWUgPSAncG9wdXBfX2Rpc2gnO1xyXG5cclxuXHRjb25zdCBkaXNoTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdGRpc2hOYW1lLmNsYXNzTmFtZSA9ICdwb3B1cF9fZGlzaC1uYW1lJztcclxuXHRkaXNoTmFtZS5pbm5lckhUTUwgPSBpdGVtLm5hbWU7XHJcblxyXG5cdGNvbnN0IGRpc2hDb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdGRpc2hDb3VudC5jbGFzc05hbWUgPSAncG9wdXBfX2Rpc2gtY291bnQnO1xyXG5cclxuXHRjb25zdCBkaXNoVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRkaXNoVmFsdWUuY2xhc3NOYW1lID0gJ3BvcHVwX19kaXNoLXZhbHVlJztcclxuXHRkaXNoVmFsdWUuaW5uZXJIVE1MID0gJzAnO1xyXG5cclxuXHRjb25zdCBkaXNoQnRuTWludXMgPSBjcmVhdGVCdG5WYWx1ZSh0cnVlKTtcclxuXHRidG5WYWx1ZUV2ZW50KHRydWUsIGRpc2hCdG5NaW51cywgZGlzaFZhbHVlLCBpdGVtKTtcclxuXHRjb25zdCBkaXNoQnRuUGx1cyA9IGNyZWF0ZUJ0blZhbHVlKGZhbHNlKTtcclxuXHRidG5WYWx1ZUV2ZW50KGZhbHNlLCBkaXNoQnRuUGx1cywgZGlzaFZhbHVlLCBpdGVtKTtcclxuXHJcblx0ZGlzaENvdW50LmFwcGVuZChkaXNoQnRuTWludXMsIGRpc2hWYWx1ZSwgZGlzaEJ0blBsdXMpO1xyXG5cdGRpc2guYXBwZW5kKGRpc2hOYW1lLCBkaXNoQ291bnQpO1xyXG5cdHJldHVybiBkaXNoO1xyXG59O1xyXG5cdC8qZGlzaCBpdGVtIGluIHBvcHVwLWNhdGVnb3J5Ki9cclxuXHJcblx0Lypwb3B1cCBhY2NvcmRpb24qL1xyXG5jb25zdCBwb3B1cEFjY29yZGlvbiA9IChpdGVtLCBjb250YWluZXIpID0+IHtcclxuXHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3BvcHVwX19pdGVtX2FjdGl2ZScpO1xyXG5cdFx0aWYgKGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQpIHtcclxuXHRcdFx0Y29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IG51bGw7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gYCR7Y29udGFpbmVyLnNjcm9sbEhlaWdodH1weGA7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblx0Lypwb3B1cCBhY2NvcmRpb24qL1xyXG5cclxuY29uc3QgY3JlYXRlUHJvZHVjdCA9IChpdGVtcykgPT4ge1xyXG5cdGl0ZW1zLmZvckVhY2goKG9iaikgPT4ge1xyXG5cdFx0Y29uc3QgY2F0ZWdvcnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGNhdGVnb3J5LmNsYXNzTmFtZSA9ICdwb3B1cF9faXRlbSc7XHJcblxyXG5cdFx0Y29uc3QgdGl0bGVDYXRlZ29yeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0dGl0bGVDYXRlZ29yeS5jbGFzc05hbWUgPSAncG9wdXBfX2l0ZW0tdGl0bGUnO1xyXG5cdFx0dGl0bGVDYXRlZ29yeS5pbm5lckhUTUwgPSBvYmoubmFtZTtcclxuXHRcdHRpdGxlQ2F0ZWdvcnkuYXBwZW5kKGNyZWF0ZVN2Z0Fycm93KCkpO1xyXG5cclxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0Y29udGFpbmVyLmNsYXNzTmFtZSA9ICdwb3B1cF9faXRlbS1jb250YWluZXInO1xyXG5cclxuXHRcdG9iai5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlRGlzaChpdGVtKSk7XHJcblx0XHR9KTtcclxuXHRcdHBvcHVwQWNjb3JkaW9uKGNhdGVnb3J5LGNvbnRhaW5lcik7XHJcblxyXG5cdFx0Y2F0ZWdvcnkuYXBwZW5kKHRpdGxlQ2F0ZWdvcnksIGNvbnRhaW5lcik7XHJcblx0XHRwb3B1cEJhc2tldC5hcHBlbmQoY2F0ZWdvcnkpO1xyXG5cdH0pXHJcbn07XHJcbi8qY3JlYXRlIHByb2R1Y3QgaW4gcG9wdXAqL1xyXG5cclxuLypvcGVuIHBvcHVwIGJhc2tldCovXHJcbmNvbnN0IG9wZW5CYXNrZXQgPSAoKSA9PiB7XHJcblx0cG9wdXAuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzVG9BZGQpO1xyXG59O1xyXG4vKm9wZW4gcG9wdXAgYmFza2V0Ki9cclxuXHJcbi8qYmFjayBjYWxsKi9cclxuY29uc3Qgb3BlbkNhbGxCYWNrID0gKCkgPT4ge1xyXG5cdHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2FjdGl2ZScsICdwb3B1cF9jYWxsJyk7XHJcbn07XHJcbi8qYmFjayBjYWxsKi9cclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcblx0Lyppbml0IHByb2R1Y3QgaW4gcG9wdXAqL1xyXG5cdGNyZWF0ZVByb2R1Y3QocHJvZHVjdCk7XHJcblx0Lyppbml0IHByb2R1Y3QgaW4gcG9wdXAqL1xyXG5cclxuXHQvKmluaXQgZmlsdGVyIGlucHV0Ki9cclxuXHRpbnB1dFRlbC5mb3JFYWNoKChpbnB1dCk9PiB7XHJcblx0XHRzZXRJbnB1dEZpbHRlcihpbnB1dCwgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuIC9eLT9cXGQqJC8udGVzdCh2YWx1ZSk7IH0pO1xyXG5cdH0pO1xyXG5cdC8qaW5pdCBmaWx0ZXIgaW5wdXQqL1xyXG5cclxuXHQvKmZhcSBhY2NvcmRpb24qL1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYXFfX2l0ZW0nKS5mb3JFYWNoKChhY2NvcmRpb24pID0+IHtcclxuXHRcdGNvbnN0IGhpZGRlblNlY3Rpb24gPSBhY2NvcmRpb24ucXVlcnlTZWxlY3RvcignLmZhcV9faGlkZGVuJyk7XHJcblxyXG5cdFx0YWNjb3JkaW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRcdGFjY29yZGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdmYXFfX2l0ZW1fYWN0aXZlJyk7XHJcblx0XHRcdGlmIChoaWRkZW5TZWN0aW9uLnN0eWxlLm1heEhlaWdodCkge1xyXG5cdFx0XHRcdGhpZGRlblNlY3Rpb24uc3R5bGUubWF4SGVpZ2h0ID0gbnVsbDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRoaWRkZW5TZWN0aW9uLnN0eWxlLm1heEhlaWdodCA9IGAke2hpZGRlblNlY3Rpb24uc2Nyb2xsSGVpZ2h0fXB4YDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSk7XHJcblx0LypmYXEgYWNjb3JkaW9uKi9cclxuXHJcblx0LyphbmNob3IqL1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZl49XCIjXCJdJykuZm9yRWFjaChhbmNob3IgPT4ge1xyXG5cdFx0YW5jaG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpKS5zY3JvbGxJbnRvVmlldyh7XHJcblx0XHRcdFx0YmVoYXZpb3I6ICdzbW9vdGgnXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblx0LyphbmNob3IqL1xyXG5cclxuXHQvKm9wZW4gcG9wdXAqL1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5fbmF2JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQmFza2V0KTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuX2hlYWRlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkJhc2tldCk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bl93b3JrJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQmFza2V0KTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQmFza2V0KTtcclxuXHQvKm9wZW4gcG9wdXAqL1xyXG5cclxuXHQvKmV4aXQgcG9wdXAqL1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZXhpdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfYWN0aXZlJywgJ3BvcHVwX21lbnUnLCAncG9wdXBfZmFxJywgJ3BvcHVwX2NhbGwnKTtcclxuXHR9KTtcclxuXHQvKmV4aXQgcG9wdXAqL1xyXG5cclxuXHQvKm9wZW4gY2FsbCBiYWNrKi9cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuX2ZhcScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfYWN0aXZlJywgJ3BvcHVwX2ZhcScpXHJcblx0fSk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bl9jb250YWN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLG9wZW5DYWxsQmFjayk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tYWluX19jYWxsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQ2FsbEJhY2spO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXItbWFpbl9fY2FsbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkNhbGxCYWNrKTtcclxuXHQvKm9wZW4gY2FsbCBiYWNrKi9cclxuXHJcblx0LypjaGVjayBmb3JtKi9cclxuXHRjb25zdCBjaGVja0lucHV0ID0gKG5hbWUsIHRlbCkgPT4ge1xyXG5cdFx0cmV0dXJuICFuYW1lLnZhbHVlLnRyaW0oKS5sZW5ndGggfHwgIXRlbC52YWx1ZTtcclxuXHR9O1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9tZW51JykuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZSkge1xyXG5cdFx0Y29uc3QgbmFtZSA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90ZWwnKTtcclxuXHRcdGNvbnN0IHRlbCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90ZWwnKTtcclxuXHRcdGlmIChjaGVja0lucHV0KG5hbWUsdGVsKSB8fCB0b3RhbC5wcmljZSA9PT0gMCkge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX2NhbGwnKS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0Y29uc3QgbmFtZSA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90ZWwnKTtcclxuXHRcdGNvbnN0IHRlbCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90ZWwnKTtcclxuXHRcdGlmIChjaGVja0lucHV0KG5hbWUsdGVsKSkge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX2ZhcScpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRjb25zdCBuYW1lID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3RlbCcpO1xyXG5cdFx0Y29uc3QgdGVsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3RlbCcpO1xyXG5cdFx0Y29uc3QgdGV4dCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0YXJlYScpO1xyXG5cdFx0aWYgKGNoZWNrSW5wdXQobmFtZSx0ZWwpIHx8ICF0ZXh0LnZhbHVlLnRyaW0oKS5sZW5ndGgpIHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cdH0pXHJcblx0LypjaGVjayBmb3JtKi9cclxuXHJcblx0Ly8gY29uc3QgcmVxdWVzdCA9IChvYmopID0+IHtcclxuXHQvLyBcdGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHQvLyBcdHhoci5vcGVuKCdQT1NUJywgJ3NlbmQucGhwJyk7XHJcblx0Ly8gXHR4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xyXG5cdC8vIFx0eGhyLnNlbmQoJ3BhcmFtPScgKyBKU09OLnN0cmluZ2lmeShvYmopKTtcclxuXHQvLyBcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcblx0Ly8gXHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpXHJcblx0Ly8gXHRcdHtcclxuXHQvLyBcdFx0XHRpZiAodGhpcy5yZWFkeVN0YXRlID09IDQpXHJcblx0Ly8gXHRcdFx0e1xyXG5cdC8vIFx0XHRcdFx0aWYgKHRoaXMuc3RhdHVzID09IDIwMClcclxuXHQvLyBcdFx0XHRcdHtcclxuXHQvLyBcdFx0XHRcdFx0Y29uc29sZS5sb2coeGhyLnJlc3BvbnNlVGV4dCk7XHJcblx0Ly8gXHRcdFx0XHR9XHJcblx0Ly8gXHRcdFx0XHRlbHNlXHJcblx0Ly8gXHRcdFx0XHR7XHJcblx0Ly8gXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdhamF4IGVycm9yJyk7XHJcblx0Ly8gXHRcdFx0XHR9XHJcblx0Ly8gXHRcdFx0fVxyXG5cdC8vIFx0XHR9O1xyXG5cdC8vIFx0fVxyXG5cdC8vIH07XHJcbn07Il19
